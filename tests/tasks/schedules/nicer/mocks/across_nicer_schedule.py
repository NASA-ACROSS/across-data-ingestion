from across_data_ingestion.tasks.schedules.nicer.low_fidelity_planned import (
    NICER_BANDPASS,
)
from across_data_ingestion.util.across_server import sdk

expected = sdk.ScheduleCreate.model_validate(
    {
        "telescope_id": "test-telescope-id",
        "name": "nicer_planned_low_2025-06-12_2025-06-12",
        "date_range": {
            "begin": "2025-06-12T00:06:03.000",
            "end": "2025-06-12T03:11:03.000",
        },
        "status": "planned",
        "fidelity": "low",
        "observations": [
            {
                "instrument_id": "test-instrument-id",
                "object_name": "1E_1207.4-5209",
                "pointing_position": {"ra": 182.504, "dec": -52.441},
                "object_position": {"ra": 182.504, "dec": -52.441},
                "date_range": {
                    "begin": "2025-06-12T00:06:03.000",
                    "end": "2025-06-12T00:21:02.000",
                },
                "external_observation_id": "7529010900",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 899.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "4FGL_J1015.5-6030",
                "pointing_position": {"ra": 153.942, "dec": -60.494},
                "object_position": {"ra": 153.942, "dec": -60.494},
                "date_range": {
                    "begin": "2025-06-12T00:21:02.000",
                    "end": "2025-06-12T00:38:58.000",
                },
                "external_observation_id": "7657010100",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1076.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "AT2023lli",
                "pointing_position": {"ra": 344.414, "dec": 40.545},
                "object_position": {"ra": 344.414, "dec": 40.545},
                "date_range": {
                    "begin": "2025-06-12T00:38:58.000",
                    "end": "2025-06-12T00:58:42.000",
                },
                "external_observation_id": "8204530100",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1184.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "PSR_J2021+3651",
                "pointing_position": {"ra": 305.272, "dec": 36.852},
                "object_position": {"ra": 305.272, "dec": 36.852},
                "date_range": {
                    "begin": "2025-06-12T00:58:42.000",
                    "end": "2025-06-12T01:15:33.000",
                },
                "external_observation_id": "8020580100",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1011.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "PSR_J1012+5307",
                "pointing_position": {"ra": 153.139, "dec": 53.117},
                "object_position": {"ra": 153.139, "dec": 53.117},
                "date_range": {
                    "begin": "2025-06-12T01:15:33.000",
                    "end": "2025-06-12T01:39:03.000",
                },
                "external_observation_id": "8070040200",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1410.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "1E_1207.4-5209",
                "pointing_position": {"ra": 182.504, "dec": -52.441},
                "object_position": {"ra": 182.504, "dec": -52.441},
                "date_range": {
                    "begin": "2025-06-12T01:39:03.000",
                    "end": "2025-06-12T01:54:02.000",
                },
                "external_observation_id": "7529010900",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 899.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "4FGL_J1015.5-6030",
                "pointing_position": {"ra": 153.942, "dec": -60.494},
                "object_position": {"ra": 153.942, "dec": -60.494},
                "date_range": {
                    "begin": "2025-06-12T01:54:02.000",
                    "end": "2025-06-12T02:11:38.000",
                },
                "external_observation_id": "7657010100",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1056.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "AT2023lli",
                "pointing_position": {"ra": 344.414, "dec": 40.545},
                "object_position": {"ra": 344.414, "dec": 40.545},
                "date_range": {
                    "begin": "2025-06-12T02:11:38.000",
                    "end": "2025-06-12T02:31:42.000",
                },
                "external_observation_id": "8204530100",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1204.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "PSR_J2021+3651",
                "pointing_position": {"ra": 305.272, "dec": 36.852},
                "object_position": {"ra": 305.272, "dec": 36.852},
                "date_range": {
                    "begin": "2025-06-12T02:31:42.000",
                    "end": "2025-06-12T02:48:33.000",
                },
                "external_observation_id": "8020580100",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1011.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
            {
                "instrument_id": "test-instrument-id",
                "object_name": "PSR_J1012+5307",
                "pointing_position": {"ra": 153.139, "dec": 53.117},
                "object_position": {"ra": 153.139, "dec": 53.117},
                "date_range": {
                    "begin": "2025-06-12T02:48:33.000",
                    "end": "2025-06-12T03:11:03.000",
                },
                "external_observation_id": "8070040200",
                "type": "imaging",
                "status": "planned",
                "exposure_time": 1350.0,
                "bandpass": NICER_BANDPASS,
                "pointing_angle": 0.0,
            },
        ],
    }
)
